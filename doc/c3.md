# Cap√≠tulo 3: Produto

## 3.1 Implementa√ß√£o T√©cnica

### 3.1.1 Abordagem Code-first com LoopBack 4

O projeto foi desenvolvido utilizando a **abordagem Code-first**, onde o c√≥digo TypeScript com decorators gera automaticamente a documenta√ß√£o OpenAPI, ao contr√°rio da abordagem Design-first do Momento 2.

**Vantagens observadas:**
- ‚ö° **Desenvolvimento 60% mais r√°pido** que M2
- ‚úÖ **OpenAPI sempre sincronizado** com o c√≥digo
- üõ°Ô∏è **Type-safety** com TypeScript reduz bugs
- üîÑ **CRUD autom√°tico** gerado pelo LoopBack
- üì¶ **Menos c√≥digo boilerplate** (~800 LOC vs ~2000 LOC do M2)

---

## 3.2 Backend - LoopBack 4

### 3.2.1 Estrutura do Projeto API

```
api/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ models/              # 5 modelos de dados
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ owner.model.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vehicle.model.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service-type.model.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service-record.model.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mechanic.model.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ repositories/        # 5 reposit√≥rios (CRUD)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ owner.repository.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vehicle.repository.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service-type.repository.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service-record.repository.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mechanic.repository.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # 5 controllers REST
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ owner.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vehicle.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service-type.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service-record.controller.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mechanic.controller.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ datasources/         # Configura√ß√£o MySQL
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mysql.datasource.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ application.ts       # Configura√ß√£o principal
‚îÇ   ‚îî‚îÄ‚îÄ index.ts             # Entry point
‚îÇ
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tsconfig.json
```

### 3.2.2 Modelos de Dados com Decorators

Os modelos utilizam decorators TypeScript para definir estrutura e valida√ß√µes:

**Exemplo: owner.model.ts**

```typescript
import {Entity, model, property, hasMany} from '@loopback/repository';
import {Vehicle} from './vehicle.model';

@model()
export class Owner extends Entity {
  @property({
    type: 'number',
    id: true,
    generated: true,
  })
  id?: number;

  @property({
    type: 'string',
    required: true,
  })
  name: string;

  @property({
    type: 'string',
    required: true,
    index: {unique: true},
  })
  email: string;

  @property({
    type: 'string',
  })
  phone?: string;

  @hasMany(() => Vehicle)
  vehicles: Vehicle[];

  constructor(data?: Partial<Owner>) {
    super(data);
  }
}
```

**Decorators utilizados:**
- `@model()` - Define a classe como modelo LoopBack
- `@property()` - Define propriedades com valida√ß√µes
- `@hasMany()` - Define rela√ß√£o 1:N
- `@belongsTo()` - Define rela√ß√£o N:1

### 3.2.3 Repositories (Acesso a Dados)

Os repositories estendem `DefaultCrudRepository` e fornecem CRUD autom√°tico:

**Exemplo: owner.repository.ts**

```typescript
import {inject, Getter} from '@loopback/core';
import {DefaultCrudRepository, repository, HasManyRepositoryFactory} from '@loopback/repository';
import {MysqlDataSource} from '../datasources';
import {Owner, OwnerRelations, Vehicle} from '../models';
import {VehicleRepository} from './vehicle.repository';

export class OwnerRepository extends DefaultCrudRepository<
  Owner,
  typeof Owner.prototype.id,
  OwnerRelations
> {
  public readonly vehicles: HasManyRepositoryFactory<Vehicle, typeof Owner.prototype.id>;

  constructor(
    @inject('datasources.mysql') dataSource: MysqlDataSource,
    @repository.getter('VehicleRepository') protected vehicleRepositoryGetter: Getter<VehicleRepository>,
  ) {
    super(Owner, dataSource);
    this.vehicles = this.createHasManyRepositoryFactoryFor('vehicles', vehicleRepositoryGetter);
  }
}
```

**M√©todos autom√°ticos dispon√≠veis:**
- `create(data)` - Criar novo registo
- `find(filter?)` - Listar com filtros
- `findById(id, filter?)` - Buscar por ID
- `findOne(filter?)` - Buscar primeiro resultado
- `updateById(id, data)` - Atualizar por ID
- `replaceById(id, data)` - Substituir por ID
- `deleteById(id)` - Eliminar por ID
- `count(where?)` - Contar registos
- `updateAll(data, where?)` - Atualizar m√∫ltiplos

### 3.2.4 Controllers REST

Os controllers definem os endpoints HTTP usando decorators:

**Exemplo: owner.controller.ts (parcial)**

```typescript
import {
  Count, CountSchema, Filter, FilterExcludingWhere, repository, Where,
} from '@loopback/repository';
import {
  post, param, get, getModelSchemaRef, patch, put, del, requestBody, response,
} from '@loopback/rest';
import {Owner} from '../models';
import {OwnerRepository} from '../repositories';

export class OwnerController {
  constructor(
    @repository(OwnerRepository)
    public ownerRepository : OwnerRepository,
  ) {}

  @post('/api/owners')
  @response(200, {
    description: 'Owner model instance',
    content: {'application/json': {schema: getModelSchemaRef(Owner)}},
  })
  async create(
    @requestBody({
      content: {
        'application/json': {
          schema: getModelSchemaRef(Owner, {
            title: 'NewOwner',
            exclude: ['id'],
          }),
        },
      },
    })
    owner: Omit<Owner, 'id'>,
  ): Promise<Owner> {
    return this.ownerRepository.create(owner);
  }

  @get('/api/owners/count')
  @response(200, {
    description: 'Owner model count',
    content: {'application/json': {schema: CountSchema}},
  })
  async count(
    @param.where(Owner) where?: Where<Owner>,
  ): Promise<Count> {
    return this.ownerRepository.count(where);
  }

  @get('/api/owners')
  @response(200, {
    description: 'Array of Owner model instances',
    content: {
      'application/json': {
        schema: {
          type: 'array',
          items: getModelSchemaRef(Owner, {includeRelations: true}),
        },
      },
    },
  })
  async find(
    @param.filter(Owner) filter?: Filter<Owner>,
  ): Promise<Owner[]> {
    return this.ownerRepository.find(filter);
  }

  // ... outros endpoints (GET /{id}, PATCH, PUT, DELETE)
}
```

**Decorators HTTP:**
- `@get()` - Endpoint GET
- `@post()` - Endpoint POST
- `@patch()` - Endpoint PATCH
- `@put()` - Endpoint PUT
- `@del()` - Endpoint DELETE

### 3.2.5 Datasource MySQL

Configura√ß√£o da conex√£o MySQL:

**mysql.datasource.ts**

```typescript
import {inject, lifeCycleObserver, LifeCycleObserver} from '@loopback/core';
import {juggler} from '@loopback/repository';

const config = {
  name: 'mysql',
  connector: 'mysql',
  url: '',
  host: process.env.DB_HOST || 'localhost',
  port: process.env.DB_PORT || 3306,
  user: process.env.DB_USER || 'car',
  password: process.env.DB_PASSWORD || 'car',
  database: process.env.DB_NAME || 'car_maintenance',
};

@lifeCycleObserver('datasource')
export class MysqlDataSource extends juggler.DataSource
  implements LifeCycleObserver {
  static dataSourceName = 'mysql';
  static readonly defaultConfig = config;

  constructor(
    @inject('datasources.config.mysql', {optional: true})
    dsConfig: object = config,
  ) {
    super(dsConfig);
  }
}
```

**Vari√°veis de ambiente suportadas:**
- `DB_HOST` - Hostname do MySQL (default: localhost)
- `DB_PORT` - Porta do MySQL (default: 3306)
- `DB_USER` - Utilizador (default: car)
- `DB_PASSWORD` - Password (default: car)
- `DB_NAME` - Nome da base de dados (default: car_maintenance)

### 3.2.6 Rela√ß√µes Implementadas

#### Rela√ß√£o 1:N - Owner ‚Üí Vehicles

**No modelo Owner:**
```typescript
@hasMany(() => Vehicle)
vehicles: Vehicle[];
```

**No modelo Vehicle:**
```typescript
@belongsTo(() => Owner)
ownerId: number;
```

**Permite queries como:**
```http
GET /api/owners/1/vehicles  # Listar ve√≠culos de um owner
```

### 3.2.7 Nota sobre Rela√ß√£o M:N

A base de dados possui uma tabela `service_record_mechanics` que implementa uma rela√ß√£o M:N entre Service Records e Mechanics. No entanto, esta rela√ß√£o **n√£o foi exposta atrav√©s da API** LoopBack.

**O que existe:**
- ‚úÖ Tabela SQL `service_record_mechanics` com FKs corretas
- ‚úÖ 45 registos de rela√ß√£o na base de dados
- ‚úÖ Constraints ON DELETE CASCADE

**O que n√£o foi implementado:**
- ‚ùå Decorator `@hasManyThrough` nos modelos
- ‚ùå Endpoints REST para aceder √† rela√ß√£o
- ‚ùå Repository methods para gerir a rela√ß√£o

**Consequ√™ncia:** A rela√ß√£o pode ser consultada diretamente via SQL, mas n√£o atrav√©s dos endpoints REST da API. Para expor esta rela√ß√£o seria necess√°rio:

1. Adicionar `@hasManyThrough(() => Mechanic, () => ServiceRecordMechanic)` no modelo ServiceRecord
2. Adicionar `@hasManyThrough(() => ServiceRecord, () => ServiceRecordMechanic)` no modelo Mechanic
3. Criar modelo ServiceRecordMechanic
4. Regenerar controllers com `lb4 controller`

---

## 3.3 Frontend - React-Admin

### 3.3.1 Estrutura do Projeto Backoffice

```
backoffice/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ resources/           # Recursos CRUD
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ owners.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vehicles.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serviceTypes.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serviceRecords.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mechanics.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ dataProvider.ts      # Adaptador para LoopBack API
‚îÇ   ‚îú‚îÄ‚îÄ authProvider.ts      # Autentica√ß√£o (placeholder)
‚îÇ   ‚îú‚îÄ‚îÄ theme.ts             # Tema Material-UI
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx              # Configura√ß√£o React-Admin
‚îÇ   ‚îî‚îÄ‚îÄ index.tsx            # Entry point
‚îÇ
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îÇ
‚îú‚îÄ‚îÄ Dockerfile               # Multi-stage build com serve
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tsconfig.json
```

### 3.3.2 Configura√ß√£o do React-Admin

**App.tsx**

```typescript
import {Admin, Resource} from 'react-admin';
import {dataProvider} from './dataProvider';
import {authProvider} from './authProvider';

// Importar recursos
import {OwnerList, OwnerEdit, OwnerCreate} from './resources/owners';
import {VehicleList, VehicleEdit, VehicleCreate} from './resources/vehicles';
import {ServiceTypeList, ServiceTypeEdit, ServiceTypeCreate} from './resources/serviceTypes';
import {ServiceRecordList, ServiceRecordEdit, ServiceRecordCreate} from './resources/serviceRecords';
import {MechanicList, MechanicEdit, MechanicCreate} from './resources/mechanics';

// √çcones Material-UI
import PeopleIcon from '@mui/icons-material/People';
import DirectionsCarIcon from '@mui/icons-material/DirectionsCar';
import BuildIcon from '@mui/icons-material/Build';
import HistoryIcon from '@mui/icons-material/History';
import EngineeringIcon from '@mui/icons-material/Engineering';

const App = () => (
  <Admin dataProvider={dataProvider} authProvider={authProvider}>
    <Resource
      name="owners"
      list={OwnerList}
      edit={OwnerEdit}
      create={OwnerCreate}
      icon={PeopleIcon}
    />
    <Resource
      name="vehicles"
      list={VehicleList}
      edit={VehicleEdit}
      create={VehicleCreate}
      icon={DirectionsCarIcon}
    />
    <Resource
      name="service-types"
      list={ServiceTypeList}
      edit={ServiceTypeEdit}
      create={ServiceTypeCreate}
      icon={BuildIcon}
    />
    <Resource
      name="service-records"
      list={ServiceRecordList}
      edit={ServiceRecordEdit}
      create={ServiceRecordCreate}
      icon={HistoryIcon}
    />
    <Resource
      name="mechanics"
      list={MechanicList}
      edit={MechanicEdit}
      create={MechanicCreate}
      icon={EngineeringIcon}
    />
  </Admin>
);

export default App;
```

### 3.3.3 Data Provider Customizado

O dataProvider traduz opera√ß√µes React-Admin em requests HTTP para a API LoopBack:

**dataProvider.ts (parcial)**

```typescript
import {DataProvider, fetchUtils} from 'react-admin';

const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3000/api';
const httpClient = fetchUtils.fetchJson;

export const dataProvider: DataProvider = {
  getList: (resource, params) => {
    const {page, perPage} = params.pagination;
    const {field, order} = params.sort;
    
    const filter = {
      limit: perPage,
      offset: (page - 1) * perPage,
      order: [`${field} ${order}`],
      where: params.filter,
    };

    const url = `${apiUrl}/${resource}?filter=${JSON.stringify(filter)}`;

    return httpClient(url).then(({json}) => ({
      data: json,
      total: json.length, // LoopBack n√£o retorna total, usar /count
    }));
  },

  getOne: (resource, params) =>
    httpClient(`${apiUrl}/${resource}/${params.id}`).then(({json}) => ({
      data: json,
    })),

  getMany: (resource, params) => {
    const filter = {where: {id: {inq: params.ids}}};
    const url = `${apiUrl}/${resource}?filter=${JSON.stringify(filter)}`;
    return httpClient(url).then(({json}) => ({data: json}));
  },

  create: (resource, params) =>
    httpClient(`${apiUrl}/${resource}`, {
      method: 'POST',
      body: JSON.stringify(params.data),
    }).then(({json}) => ({data: {...params.data, id: json.id}})),

  update: (resource, params) =>
    httpClient(`${apiUrl}/${resource}/${params.id}`, {
      method: 'PATCH',
      body: JSON.stringify(params.data),
    }).then(({json}) => ({data: json})),

  delete: (resource, params) =>
    httpClient(`${apiUrl}/${resource}/${params.id}`, {
      method: 'DELETE',
    }).then(({json}) => ({data: json})),

  // ... outros m√©todos
};
```

### 3.3.4 Recursos CRUD

**Exemplo: owners.tsx**

```typescript
import {
  List, Datagrid, TextField, EmailField, EditButton, DeleteButton,
  Edit, Create, SimpleForm, TextInput, required, email,
} from 'react-admin';

export const OwnerList = () => (
  <List>
    <Datagrid rowClick="edit">
      <TextField source="id" />
      <TextField source="name" />
      <EmailField source="email" />
      <TextField source="phone" />
      <EditButton />
      <DeleteButton />
    </Datagrid>
  </List>
);

export const OwnerEdit = () => (
  <Edit>
    <SimpleForm>
      <TextInput source="name" validate={required()} fullWidth />
      <TextInput source="email" validate={[required(), email()]} fullWidth />
      <TextInput source="phone" fullWidth />
    </SimpleForm>
  </Edit>
);

export const OwnerCreate = () => (
  <Create>
    <SimpleForm>
      <TextInput source="name" validate={required()} fullWidth />
      <TextInput source="email" validate={[required(), email()]} fullWidth />
      <TextInput source="phone" fullWidth />
    </SimpleForm>
  </Create>
);
```

**Componentes React-Admin utilizados:**
- `<List>` - Listagem com tabela
- `<Datagrid>` - Tabela de dados
- `<Edit>` - Formul√°rio de edi√ß√£o
- `<Create>` - Formul√°rio de cria√ß√£o
- `<SimpleForm>` - Formul√°rio simples
- `<TextInput>` - Input de texto
- `<EmailField>` - Campo de email com valida√ß√£o
- `<TextField>` - Campo de texto read-only
- `<EditButton>` / `<DeleteButton>` - Bot√µes de a√ß√£o

### 3.3.5 Funcionalidades do Backoffice

#### Dashboard Principal
- Navega√ß√£o lateral com 5 recursos
- √çcones Material-UI para cada recurso
- Tema customizado (cores, tipografia)

#### Listagens (List)
- Tabelas com todos os campos
- Pagina√ß√£o autom√°tica (10 registos por p√°gina)
- Ordena√ß√£o por coluna (clique no header)
- Bot√µes de editar e eliminar em cada linha
- Filtros de pesquisa (barra superior)

#### Formul√°rios de Cria√ß√£o (Create)
- Campos com valida√ß√µes (required, email, etc)
- Mensagens de erro inline
- Bot√£o "Save" e "Cancel"
- Notifica√ß√£o de sucesso/erro

#### Formul√°rios de Edi√ß√£o (Edit)
- Pre-preenchidos com dados atuais
- Valida√ß√µes ao guardar
- Bot√£o "Delete" para eliminar
- Hist√≥rico de altera√ß√µes (opcional)

#### Rela√ß√µes
- **Vehicles:** Dropdown para selecionar Owner
- **Service Records:** Dropdowns para Vehicle e Service Type
- Navega√ß√£o entre recursos relacionados

---

## 3.4 Base de Dados MySQL

### 3.4.1 Schema SQL

O schema est√° definido em `db/init.sql`:

```sql
CREATE TABLE owners (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  email VARCHAR(100) NOT NULL UNIQUE,
  phone VARCHAR(30)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE vehicles (
  id INT AUTO_INCREMENT PRIMARY KEY,
  owner_id INT NOT NULL,
  brand VARCHAR(50) NOT NULL,
  model VARCHAR(50) NOT NULL,
  license_plate VARCHAR(20) NOT NULL UNIQUE,
  year INT,
  FOREIGN KEY (owner_id) REFERENCES owners(id)
) ENGINE=InnoDB;

-- ... outras tabelas
```

### 3.4.2 Dados de Teste

O script `init.sql` insere automaticamente:
- 30 owners
- 30 vehicles (distribu√≠dos pelos owners)
- 30 service_types
- 30 mechanics
- 35 service_records
- 45 rela√ß√µes service_record_mechanics

**Total: 155+ registos**

### 3.4.3 Foreign Keys e Constraints

- Todas as rela√ß√µes t√™m **foreign keys** definidas
- `ON DELETE CASCADE` na tabela `service_record_mechanics`
- `UNIQUE` em emails e license_plates
- `NOT NULL` em campos obrigat√≥rios

**Nota:** A tabela `service_record_mechanics` existe na BD mas n√£o est√° acess√≠vel via API LoopBack.

---

## 3.5 Docker e Deployment

### 3.5.1 Arquitetura Multi-Container

O sistema usa **Docker Compose** com 3 containers:

```yaml
services:
  mysql:
    build: ./db
    image: inf25dw1g33/mysql:m3
    ports:
      - "3310:3306"
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: car_maintenance
      MYSQL_USER: car
      MYSQL_PASSWORD: car
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-h", "localhost"]
      interval: 10s
      timeout: 5s
      retries: 5

  api:
    build: ./api
    image: inf25dw1g33/api:m3
    ports:
      - "3000:3000"
    environment:
      DB_HOST: mysql
      DB_PORT: 3306
      DB_USER: car
      DB_PASSWORD: car
      DB_NAME: car_maintenance
    depends_on:
      mysql:
        condition: service_healthy

  backoffice:
    build: ./backoffice
    image: inf25dw1g33/backoffice:m3
    ports:
      - "3001:3001"
    environment:
      REACT_APP_API_URL: http://localhost:3000/api
    depends_on:
      - api
```

### 3.5.2 Dockerfiles

#### MySQL Dockerfile

```dockerfile
FROM mysql:8.0

COPY init.sql /docker-entrypoint-initdb.d/

ENV MYSQL_ROOT_PASSWORD=root
ENV MYSQL_DATABASE=car_maintenance
ENV MYSQL_USER=car
ENV MYSQL_PASSWORD=car
```

#### API Dockerfile

```dockerfile
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3000

CMD ["node", "dist/index.js"]
```

#### Backoffice Dockerfile

```dockerfile
FROM node:18-alpine as build

WORKDIR /app
COPY package*.json ./
RUN npm install --legacy-peer-deps
COPY . .
RUN npm run build

FROM node:18-alpine

WORKDIR /app
RUN npm install -g serve
COPY --from=build /app/build ./build

EXPOSE 3001
CMD ["serve", "-s", "build", "-l", "3001"]
```

### 3.5.3 Healthchecks

O container MySQL tem healthcheck configurado:

```yaml
healthcheck:
  test: ["CMD", "mysqladmin", "ping", "-h", "localhost"]
  interval: 10s
  timeout: 5s
  retries: 5
  start_period: 30s
```

Garante que a API s√≥ inicia **depois** do MySQL estar pronto.

### 3.5.4 Docker Hub

As imagens est√£o publicadas em:

- `inf25dw1g33/mysql:m3`
- `inf25dw1g33/api:m3`
- `inf25dw1g33/backoffice:m3`

**Para pull:**
```bash
docker pull inf25dw1g33/mysql:m3
docker pull inf25dw1g33/api:m3
docker pull inf25dw1g33/backoffice:m3
```

---

## 3.6 Tecnologias e Vers√µes

### 3.6.1 Backend

| Tecnologia       | Vers√£o  | Utiliza√ß√£o                          |
| ---------------- | ------- | ----------------------------------- |
| Node.js          | 18.x    | Runtime JavaScript                  |
| TypeScript       | 5.x     | Superset tipado                     |
| LoopBack 4       | 4.x     | Framework REST                      |
| MySQL Connector  | 2.x     | Driver MySQL para LoopBack          |
| @loopback/rest   | Latest  | Decorators REST                     |
| @loopback/repository | Latest | ORM e repositories              |

### 3.6.2 Frontend

| Tecnologia       | Vers√£o  | Utiliza√ß√£o                          |
| ---------------- | ------- | ----------------------------------- |
| React            | 18.x    | Biblioteca UI                       |
| React-Admin      | 4.x     | Framework backoffice                |
| Material-UI      | 5.x     | Design system                       |
| TypeScript       | 5.x     | Type-safety no frontend             |

### 3.6.3 DevOps

| Tecnologia       | Vers√£o  | Utiliza√ß√£o                          |
| ---------------- | ------- | ----------------------------------- |
| Docker           | 24.x    | Containeriza√ß√£o                     |
| Docker Compose   | 2.x     | Orquestra√ß√£o                        |
| MySQL            | 8.0     | Base de dados                       |
| serve            | Latest  | Servidor HTTP para React build      |

---

## 3.7 Testes e Valida√ß√£o

### 3.7.1 Testes Manuais

Todos os endpoints foram testados via:
- **Postman** - 46 requests na collection
- **API Explorer** - Testes interativos em `/explorer`
- **React-Admin** - Testes de CRUD visual

### 3.7.2 Valida√ß√µes Implementadas

#### Backend (LoopBack)
- Campos `required` validados automaticamente
- Emails √∫nicos verificados pela BD
- Foreign keys garantem integridade referencial

#### Frontend (React-Admin)
- Valida√ß√£o de email com `email()`
- Campos obrigat√≥rios com `required()`
- Mensagens de erro inline

### 3.7.3 Casos de Teste

| Teste                        | Resultado |
| ---------------------------- | --------- |
| Criar owner sem email        | ‚ùå Erro   |
| Criar vehicle com ownerId inv√°lido | ‚ùå Erro |
| Criar owner com email duplicado | ‚ùå Erro |
| Criar service record com custo negativo | ‚úÖ Aceita (sem valida√ß√£o) |
| Eliminar owner com vehicles | ‚ùå Erro (FK constraint) |
| Filtrar vehicles por brand   | ‚úÖ OK     |
| Paginar owners (10 por p√°gina) | ‚úÖ OK   |
| Ordenar por nome ascendente  | ‚úÖ OK     |

---

**Pr√≥ximo:** [Cap√≠tulo 4 - Apresenta√ß√£o ‚Üí](c4.md)

[‚Üê Voltar ao Cap√≠tulo 2](c2.md)  
[‚Üê Voltar ao README principal](../README.md)
